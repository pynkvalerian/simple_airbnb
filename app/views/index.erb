<div class="container" align="center">
  <h1>Welcome to Simple AirBnb!</h1>
  <p>Browse through below for properties all over the world!</p>

<% if session[:user_id].nil? %>
  <!-- REGISTER -->
    <div class="register">
      <button id="register">Register</button>
      <form action="/register" method="post">
        <input name="name" type="text" placeholder="Full Name">
        <input name="email" type="text" placeholder="Email">
        <input name="password" type="text" placeholder="Password">
        <input type="submit" value="Submit">
      </form>
    </div>

  <!-- LOG IN -->
    <div class="log_in">
      <button id="log_in">Log In</button>
      <form action="/log_in" method="post">
        <input name="email" type="text" placeholder="Email">
        <input name="password" type="text" placeholder="Password">
        <input type="submit" value="Submit">
      </form>
    </div>

<% elsif session[:user_id].nil? == false %>
  <p> Hello, <%= User.find(session[:user_id]).name %></p>
  <!-- DASHBOARD -->
  <div class="dashboard">
    <form action="/dashboard" method="post">
      <input type="submit" value="Your Dashboard">
    </form>
  </div>

  <!-- LOG OUT -->
  <div class="log_out">
    <form action="/log_out" method="post">
      <input type="submit" value="Log Out">
    </form>
  </div>

<% end %>

<!-- DISPLAYS ALL PROPERTIES -->
  <h4>Properties</h4>
  <table>
    <tr>
      <th>Property</th>
      <th>Address</th>
    </tr>
    <% @properties.each do |property| %>
      <tr>
        <td>
          <a href="/property/<%= property.id %>">
            <%= property.title %>
          </a>
        </td>
        <td><%= property.address %></td>
      </tr>
    <% end %>
  </table>

<!-- FILTER PROPERTIES BY TAGS -->
  <h4> Filter by tags </h4>
  <form action="/tags" method="post">
    <% Tag.all.each_with_index do |tag, i| %>
      <input name="<%="tags[" + tag.name + "]"%>" type="checkbox"> <%=tag.name%>
    <% end %>
    <br><br>
    <input type="submit" value="Filter">
  </form>


</div>

